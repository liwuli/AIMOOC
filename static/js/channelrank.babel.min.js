"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),CFCMRank=function(){function e(t){_classCallCheck(this,e),this.initVal(t)}return _createClass(e,[{key:"initVal",value:function(e){var t={fatherid:"listrank",listclass:"list",optclass:"opt",editclass:"edit",upclass:"up",downclass:"down",btnsetclass:"btnset",axiosfn:!1,axiosfnval:!1};this.cfg={},_extends(this.cfg,t,e),this.initCommonVal()}},{key:"initCommonVal",value:function(){this.downupEvent()}},{key:"getId",value:function(e){return document.getElementById(e)}},{key:"getIdClassAll",value:function(e,t){return document.getElementById(e).querySelectorAll("."+t)}},{key:"parents",value:function(e,t){if(e.className==t)return e;e=e.parentNode,this.parents(e,t)}},{key:"remove",value:function(e){var t=e.parentNode;t&&t.removeChild(e)}},{key:"downupEvent",value:function(){var e=this,t=this.cfg,n=this.getIdClassAll(t.fatherid,t.listclass);Array.prototype.slice.call(n).forEach(function(i,l){i.setAttribute("index",l),i.removeAttribute("style");var r=i.querySelector("."+t.optclass);r.querySelector("."+t.downclass).style.display="block",r.querySelector("."+t.upclass).style.display="block",0==l?r.querySelector("."+t.upclass).style.display="none":l==n.length-1?r.querySelector("."+t.downclass).style.display="none":r.querySelector("."+t.downclass).style.display="block",r.querySelector("."+t.upclass).onclick=function(){if("function"==typeof t.axiosfn)t.axiosfn("up",this.parentNode.parentNode.getAttribute("id"));else{var n=this.parentNode.parentNode,i=n.cloneNode(!0),l=n.getAttribute("index");i.setAttribute("index",l-1),n.previousElementSibling.setAttribute("index",l);n.getAttribute("id"),n.previousElementSibling.getAttribute("id");n.parentNode.insertBefore(i,n.previousElementSibling),e.remove(n),e.downupEvent()}},r.querySelector("."+t.downclass).onclick=function(){if("function"==typeof t.axiosfn)t.axiosfn("down",this.parentNode.parentNode.getAttribute("id"));else{var i=this.parentNode.parentNode,l=i.cloneNode(!0),r=i.getAttribute("index");l.setAttribute("index",r+1),i.nextElementSibling.setAttribute("index",r);i.getAttribute("id"),i.nextElementSibling.getAttribute("id");parseInt(r)+1==n.length-1?e.parentEls().appendChild(l):i.parentNode.insertBefore(l,i.nextElementSibling.nextElementSibling),e.remove(i),e.downupEvent()}}})}}]),e}();
export function CFCMrank (obj) {
  return new CFCMRank(obj)
}